


buildscript {
    allprojects {
        repositories {
            mavenCentral()
            maven {
                url "https://plugins.gradle.org/m2/"
            }
        }
    }

    dependencies {
        classpath "org.asciidoctor:asciidoctorj:2.5.7"
        classpath "org.jruby:jruby-complete:9.4.0.0"
    }

}
plugins {

    id "org.asciidoctor.jvm.convert" version "3.3.2"
}

asciidoctor {
    attributes.put("allow-uri-read", "true")

    sourceDir = file('docs')

    sources {
        include 'index.adoc'
    }

    outputDir = file('build')
}

task copyIndex(type: Copy) {
    dependsOn asciidoctor
    from file("$buildDir/")
    into file(".")
}

defaultTasks "copyIndex"
